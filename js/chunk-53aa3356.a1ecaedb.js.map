{"version":3,"sources":["webpack:///./src/components/MarcadorResultadosFB-Auth.vue?315c","webpack:///./src/components/MarcadorResultadosFB-Auth.vue?bf05","webpack:///./src/ConfigAoe2DE-Auth.js","webpack:///src/components/MarcadorResultadosFB-Auth.vue","webpack:///./src/components/MarcadorResultadosFB-Auth.vue?7d46","webpack:///./src/components/MarcadorResultadosFB-Auth.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","MiNombre","Ganadas","Perdidas","on","$event","RestarWin","SumarWin","attrs","ResetearMarcador","RestarLose","SumarLose","_e","staticRenderFns","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","name","firebase","MarcadorResultados","props","data","DatosMarcador","ProfileId","InfoFB","BaseFirebaseOk","mounted","console","MarcadorResultadosRef","_DataUser","db","methods","ActualizarRegistrosEnFirebase","_This","update","_Registros","then","ObtenerInfoDeUnProfile","_Retorno","info","_ResAux","Marcador","RegistroMarcador","Fecha","_Fecha","component"],"mappings":"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","file":"js/chunk-53aa3356.a1ecaedb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarcadorResultadosFB-Auth.vue?vue&type=style&index=0&id=121385cd&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.BaseFirebaseOk)?_c('div',{staticClass:\"ContenedorMarcadorResultados Visible\"},[_vm._v(\" \"+_vm._s(_vm.MiNombre)+\" \"),_c('b',[_vm._v(_vm._s(_vm.Ganadas()))]),_vm._v(\" - \"),_c('b',[_vm._v(_vm._s(_vm.Perdidas()))]),_vm._v(\" Others \"),_c('div',{staticClass:\"ContenedorPanel\"},[_c('div',{staticClass:\"ContenedorTitulo\"},[_vm._v(\"Edit Score\")]),_c('div',{staticClass:\"ContenedorBotones\"},[_c('div',{staticClass:\"BotonesLeft\"},[_c('div',{staticClass:\"Boton BotonRojo noselect\",on:{\"click\":function($event){return _vm.RestarWin()}}},[_vm._v(\"↓\")]),_vm._v(\" \"),_c('div',{staticClass:\"Boton BotonVerde noselect\",on:{\"click\":function($event){return _vm.SumarWin()}}},[_vm._v(\"↑\")])]),_c('div',{staticClass:\"BotonReset noselect\",attrs:{\"title\":\"It save the current score\"},on:{\"click\":function($event){return _vm.ResetearMarcador()}}},[_vm._v(\"Reset\")]),_c('div',{staticClass:\"BotonesRight\"},[_c('div',{staticClass:\"Boton BotonRojo noselect\",on:{\"click\":function($event){return _vm.RestarLose()}}},[_vm._v(\"↓\")]),_vm._v(\" \"),_c('div',{staticClass:\"Boton BotonVerde noselect\",on:{\"click\":function($event){return _vm.SumarLose()}}},[_vm._v(\"↑\")])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default{\r\n    apiKey: \"AIzaSyCkUoFdCV4oiu0YoyyA0jZPZRDXmpzqXXo\",\r\n    authDomain: \"aoe2de-auth.firebaseapp.com\",\r\n    databaseURL: \"https://aoe2de-auth-default-rtdb.firebaseio.com\",\r\n    projectId: \"aoe2de-auth\",\r\n    storageBucket: \"aoe2de-auth.appspot.com\",\r\n    messagingSenderId: \"179242101785\",\r\n    appId: \"1:179242101785:web:3d309965716ed1f6820e88\",\r\n    measurementId: \"G-T9PCW07H8J\"\r\n}","<template>\r\n    <div class=\"ContenedorMarcadorResultados Visible\" v-if=\"BaseFirebaseOk\">\r\n      {{MiNombre}} <b>{{Ganadas()}}</b>  -  <b>{{Perdidas()}}</b> Others\r\n\r\n      <div class=\"ContenedorPanel\">\r\n          <div class=\"ContenedorTitulo\">Edit Score</div>\r\n          <div class=\"ContenedorBotones\">\r\n            <div class=\"BotonesLeft\">\r\n                <div class=\"Boton BotonRojo noselect\" @click=\"RestarWin()\">&#8595;</div> <div class=\"Boton BotonVerde noselect\" @click=\"SumarWin()\">&#8593;</div> \r\n            </div>\r\n            <div class=\"BotonReset noselect\" @click=\"ResetearMarcador()\" title=\"It save the current score\">Reset</div>\r\n            <div class=\"BotonesRight\">\r\n                <div class=\"Boton BotonRojo noselect\" @click=\"RestarLose()\">&#8595;</div> <div class=\"Boton BotonVerde noselect\" @click=\"SumarLose()\">&#8593;</div> \r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Firebase from 'firebase/app';\r\n    import 'firebase/database';\r\n    import 'firebase/analytics';\r\n    import Config1 from \"../ConfigAoe2DE-Auth\";\r\n\r\n    let app = Firebase.initializeApp(Config1);\r\n    Firebase.analytics();\r\n    let db = app.database();\r\n    let MarcadorResultadosRef = db.ref(\"MarcadorResultados\");\r\n    import Utilities from \"../Utilities/Utilities.js\";\r\n    export default {\r\n        name:\"MarcadorResultadosFB\",\r\n        firebase: {\r\n            MarcadorResultados: MarcadorResultadosRef\r\n        },\r\n        props:{\r\n            //Solo1v1: Boolean\r\n        },\r\n        data(){\r\n            return {\r\n                MiNombre: \"TM Marty\",\r\n                DatosMarcador: {\r\n                    Ganadas:0,\r\n                    Perdidas:0\r\n                },\r\n                ProfileId: \"945834\",\r\n                InfoFB: null,\r\n                BaseFirebaseOk: false,\r\n            }\r\n        },\r\n        async mounted(){\r\n            console.log(\"asdasd\");\r\n            // fetch('https://api.ipify.org?format=json', function(data){\r\n            //     console.log(data);\r\n            //     console.log(data.ip);\r\n            // });\r\n            // fetch('https://api.ipify.org?format=json')\r\n            // // fetch('http://ip-api.com/json')\r\n            // .then(r => r.json())\r\n            // .then(json => {\r\n            //     console.log(json);\r\n            //     console.log(json.ip);\r\n            // });\r\n            //console.log(this.ObtenerResultados());\r\n            this.InfoFB = await this.ObtenerInfoDeUnProfile(this.ProfileId);\r\n            if (this.InfoFB == null){\r\n                await MarcadorResultadosRef.push(new Marcador(this.ProfileId));\r\n                this.InfoFB = await this.ObtenerInfoDeUnProfile(this.ProfileId);\r\n            }\r\n\r\n            if (this.InfoFB == null){\r\n                console.log(\"VER\");\r\n                return;\r\n            }\r\n\r\n            //Creo el evento para cuando se actualiza algun dato de la base\r\n            var _DataUser = db.ref(\"MarcadorResultados/\" + this.InfoFB.key);\r\n            _DataUser.on('value', (snapshot) => {\r\n                const data = snapshot.val();\r\n                this.InfoFB._Registros = data._Registros;\r\n                //console.log(\"Registros actualizados\", data._Registros);\r\n            });\r\n            this.BaseFirebaseOk = true;\r\n\r\n        },\r\n        methods: {\r\n            async ActualizarRegistrosEnFirebase(){\r\n                try {\r\n                    var _This = this;\r\n                    await db.ref(\"MarcadorResultados/\" + _This.InfoFB.key)\r\n                    .update({ _Registros: _This.InfoFB._Registros })\r\n                    .then(() => { \r\n                        //console.log('Registro updated!') \r\n                    });\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n            },\r\n            async ObtenerInfoDeUnProfile(ProfileId){\r\n                var _Retorno = null;\r\n                try {\r\n                    await MarcadorResultadosRef.once('value', function(info) {\r\n                        info.forEach(function(Resultado) {\r\n                            if(Resultado.val()._ProfileId == ProfileId){\r\n                                _Retorno = Resultado.val();\r\n                                _Retorno.key = Resultado.key;\r\n                            }\r\n                        });\r\n                    });\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n                return _Retorno;\r\n            },\r\n            SumarWin(){\r\n                var _ResAux = this.InfoFB._Registros[this.InfoFB._Registros.length - 1];\r\n                _ResAux._Ganadas += 1;\r\n                this.ActualizarRegistrosEnFirebase();\r\n            },\r\n            RestarWin(){\r\n                var _ResAux = this.InfoFB._Registros[this.InfoFB._Registros.length - 1];\r\n                if(_ResAux._Ganadas > 0){\r\n                    _ResAux._Ganadas -= 1;\r\n                    this.ActualizarRegistrosEnFirebase();\r\n                }\r\n            },\r\n            SumarLose(){\r\n                var _ResAux = this.InfoFB._Registros[this.InfoFB._Registros.length - 1];\r\n                _ResAux._Perdidas += 1;\r\n                this.ActualizarRegistrosEnFirebase();\r\n            },\r\n            RestarLose(){\r\n                var _ResAux = this.InfoFB._Registros[this.InfoFB._Registros.length - 1];\r\n                if(_ResAux._Perdidas > 0){\r\n                    _ResAux._Perdidas -= 1;\r\n                    this.ActualizarRegistrosEnFirebase();\r\n                }\r\n            },\r\n            ResetearMarcador(){\r\n                this.InfoFB._Registros.push(new RegistroMarcador());\r\n                this.ActualizarRegistrosEnFirebase();\r\n            },\r\n            Ganadas(){\r\n                return this.InfoFB._Registros[this.InfoFB._Registros.length - 1]._Ganadas;\r\n            },\r\n            Perdidas(){\r\n                return this.InfoFB._Registros[this.InfoFB._Registros.length - 1]._Perdidas;\r\n            }\r\n        }\r\n    }\r\n\r\n    class Marcador{\r\n        constructor(_ProfileId){\r\n            this._ProfileId = _ProfileId;\r\n            this._Registros = [];\r\n            this._Registros.push(new RegistroMarcador());\r\n        }\r\n    }\r\n    class RegistroMarcador {\r\n        constructor() {\r\n            this._Ganadas = 0;\r\n            this._Perdidas = 0;\r\n            this._Fecha = new Fecha();\r\n        }\r\n    };\r\n    class Fecha {\r\n        constructor(_Fecha) {\r\n        if (!_Fecha){\r\n            _Fecha = new Date();\r\n        }\r\n        this._Año = _Fecha.getFullYear();\r\n        this._Mes = _Fecha.getMonth() + 1;\r\n        this._Dia = _Fecha.getDate();\r\n        this._Horas = _Fecha.getHours();\r\n        this._Minutos = _Fecha.getMinutes();\r\n        this._Segundos = _Fecha.getSeconds();\r\n        this._FechaYHora = this.ObtenerTexto();\r\n        this._Fecha = this.ObtenerTexto1();\r\n        }\r\n        ObtenerTexto(){\r\n        var _Retorno = \"\";\r\n        try {\r\n            _Retorno += (\"0\" + this._Dia).slice(-2);\r\n            _Retorno += \"/\" + (\"0\" + this._Mes).slice(-2);\r\n            _Retorno += \"/\" + this._Año;\r\n            _Retorno += \" \" + (\"0\" + this._Horas).slice(-2);\r\n            _Retorno += \":\" + (\"0\" + this._Minutos).slice(-2);\r\n            _Retorno += \":\" + (\"0\" + this._Segundos).slice(-2);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        return _Retorno;\r\n        }\r\n        ObtenerTexto1(){\r\n        var _Retorno = \"\";\r\n        try {\r\n            _Retorno += (\"0\" + this._Dia).slice(-2);\r\n            _Retorno += \"/\" + (\"0\" + this._Mes).slice(-2);\r\n            _Retorno += \"/\" + this._Año;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        return _Retorno;\r\n        }\r\n        Paquete(){\r\n        return (this._Año + \"/\" + this._Mes + \"/\" + this._Dia + \"/\" + this._Horas + \"/\" + this._Minutos + \"/\" + this._Segundos);\r\n        }\r\n        SetearDesdePaquete(_Paquete){\r\n        var _Aux = _Paquete.split(\"/\");\r\n        if (_Aux.length != 6){\r\n            return;\r\n        }\r\n        this._Año = _Aux[0];\r\n        this._Mes = _Aux[1];\r\n        this._Dia = _Aux[2];\r\n        this._Horas = _Aux[3];\r\n        this._Minutos = _Aux[4];\r\n        this._Segundos = _Aux[5];\r\n    \r\n        this._FechaYHora = this.ObtenerTexto();\r\n        this._Fecha = this.ObtenerTexto1();\r\n        }\r\n        ObtenerFecha(){\r\n            var _Retorno = new Date(Date.UTC(this._Año, this._Mes - 1, this._Dia, this._Horas, this._Minutos, this._Segundos));\r\n            return _Retorno;\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .ContenedorMarcadorResultados{\r\n        position:absolute;\r\n        bottom:-115px;\r\n        height:50px;\r\n        line-height:42px;\r\n        font-size:38px;\r\n        padding:10px 40px;\r\n        width:fit-content;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        background-color: green;\r\n        border-radius:0 0 40px 40px;\r\n        background-image: url(\"../assets/hex.png\");\r\n        background-repeat: repeat;\r\n        box-shadow:inset 0 0 20px #000;\r\n        border:4px solid #000;\r\n        opacity: 0;\r\n        transition: all 1s;\r\n    }\r\n    .Visible{\r\n        opacity: 1;\r\n    }\r\n    .ContenedorPanel{\r\n        position:relative;\r\n        width: 100%;\r\n        //   height:50px;\r\n        //   line-height:50px;\r\n        margin-top:100px;\r\n        background-color: #000;\r\n            color:#CCC;\r\n    }\r\n    .ContenedorTitulo{\r\n            width:100%;\r\n            // height: 30px;\r\n            line-height: 30px;\r\n            // font-size:22px;\r\n            border:1px solid #AAA;\r\n            border-bottom:none;\r\n            box-sizing: border-box;\r\n            padding:10px 0;\r\n    }\r\n    .ContenedorBotones{\r\n            display:flex;\r\n            align-content: space-between;\r\n            border:1px solid #AAA;\r\n            padding:5px 0;\r\n    }\r\n    .BotonesLeft{\r\n            width:50%;\r\n            box-sizing: border-box;\r\n            padding:2px 10px;\r\n            display: flex;\r\n        }\r\n    .BotonesRight{\r\n            width:50%;\r\n            box-sizing: border-box;\r\n            padding:2px 10px;\r\n            display: flex;\r\n            justify-content: flex-end;\r\n        }\r\n    .Boton{\r\n        // width:50px;\r\n        height: 50px;\r\n        padding:0 15px;\r\n        background-color:black;\r\n        border-radius:50%;\r\n        box-sizing: border-box;\r\n        font-weight: bold;\r\n        text-align: center;\r\n        margin: 0 5px;\r\n        cursor: pointer;\r\n        outline: none;\r\n    }\r\n    .BotonVerde{\r\n        color: #00D815;\r\n        border:2px solid #00D815;\r\n        &:hover{\r\n            box-shadow: 0 0 10px #00D815;\r\n        }\r\n    }\r\n    .BotonRojo{\r\n        color: #FF0000;\r\n        border:2px solid #FF0000;\r\n        &:hover{\r\n            box-shadow: 0 0 10px #FF0000;\r\n        }\r\n    }\r\n    .BotonReset{\r\n        cursor: pointer;\r\n        font-size:30px;\r\n        &:hover{\r\n            text-decoration: underline;\r\n        }\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarcadorResultadosFB-Auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarcadorResultadosFB-Auth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarcadorResultadosFB-Auth.vue?vue&type=template&id=121385cd&scoped=true&\"\nimport script from \"./MarcadorResultadosFB-Auth.vue?vue&type=script&lang=js&\"\nexport * from \"./MarcadorResultadosFB-Auth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MarcadorResultadosFB-Auth.vue?vue&type=style&index=0&id=121385cd&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"121385cd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}