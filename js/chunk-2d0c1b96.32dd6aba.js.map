{"version":3,"sources":["webpack:///./src/components/Logs.vue?7c66","webpack:///./src/ConfigInfoPlayersAoe.js","webpack:///src/components/Logs.vue","webpack:///./src/components/Logs.vue?e94a","webpack:///./src/components/Logs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","console","log","component"],"mappings":"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","file":"js/chunk-2d0c1b96.32dd6aba.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default{\r\n    apiKey: \"AIzaSyBZM8rQeyRlAeNkkRvpi_Tyj0xQpVOIyAk\",\r\n    authDomain: \"infoplayersaoe.firebaseapp.com\",\r\n    databaseURL: \"https://infoplayersaoe-default-rtdb.firebaseio.com\",\r\n    projectId: \"infoplayersaoe\",\r\n    storageBucket: \"infoplayersaoe.appspot.com\",\r\n    messagingSenderId: \"876194036529\",\r\n    appId: \"1:876194036529:web:5a3ded9b735cb5d96fce10\",\r\n    measurementId: \"G-D6HZB9LVLV\"\r\n}","<template>\r\n    <div class=\"loading\">\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Firebase from 'firebase/app';\r\n    import 'firebase/database';\r\n    //import 'firebase/analytics';\r\n    import ConfigInfoPlayersAoe from \"../ConfigInfoPlayersAoe\";\r\n    let app = Firebase.initializeApp(ConfigInfoPlayersAoe);\r\n    //Firebase.analytics();\r\n    let db = app.database();\r\n    let InfoPlayersFB = db.ref(\"InfoPlayers\");\r\n\r\n    export default {\r\n        components: {\r\n\r\n        },\r\n        data() {\r\n            return {\r\n                _JugadorPrincipal: null,\r\n                _InfoPlayer: null\r\n            }\r\n        },\r\n        async mounted() {\r\n            // let _InfoPlayer = await this.ObtenerInfoPlayerFB(this.ProfileId);\r\n            // console.log(_InfoPlayer);\r\n        },\r\n        methods: {\r\n            async IniciarLogs(_JugadorPrincipal){\r\n                this._JugadorPrincipal = _JugadorPrincipal;\r\n                await this.SetearInfoInicial();\r\n                //console.log(\"2\");\r\n            },\r\n            async SetearInfoInicial(){\r\n                try {\r\n                    this._InfoPlayer = await this.ObtenerInfoPlayerFB(this._JugadorPrincipal.profile_id);\r\n                    if (this._InfoPlayer == null){\r\n                        let _NewInfo = new InfoPlayer(this._JugadorPrincipal.profile_id, this._JugadorPrincipal.name);\r\n                        //_NewInfo._IPsRegistradas.push(new IpRegistrada());\r\n                        await InfoPlayersFB.push(_NewInfo);\r\n                        this._InfoPlayer = await this.ObtenerInfoPlayerFB(this._JugadorPrincipal.profile_id);\r\n                    }\r\n\r\n\r\n\r\n                    let _IpRegistrada = new IpRegistrada();\r\n                    await _IpRegistrada.SetearIP();\r\n\r\n                    if(!this._InfoPlayer._IPsRegistradas){\r\n                        this._InfoPlayer._IPsRegistradas = [];\r\n                    }\r\n                    this._InfoPlayer._IPsRegistradas.push(_IpRegistrada);\r\n                    this.GuardarNuevaIpLogueada();\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            },\r\n            async GuardarNuevaIpLogueada(){\r\n                try {\r\n                    var _This = this;\r\n                    await db.ref(\"InfoPlayers/\" + _This._InfoPlayer.key)\r\n                    .update({ \r\n                        _IPsRegistradas: _This._InfoPlayer._IPsRegistradas\r\n                    })\r\n                    .then((r) => { \r\n                        //console.log(this);\r\n                        //console.log('Registro updated!') \r\n                    });\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            },\r\n            async GuardarNuevoPartidoAnalizado(_Partido, _Team1, _Team2){\r\n                try {\r\n                    //console.log(_Partido, _Team1, _Team2);\r\n                    if(!this._InfoPlayer._PartidosAnalizados){\r\n                        this._InfoPlayer._PartidosAnalizados = [];\r\n                    }else{\r\n                        //Chequeo que ya no haya sido guardado\r\n                        const Partido = this._InfoPlayer._PartidosAnalizados.find(p => p._Partido.match_id == _Partido.match_id);\r\n                        if(Partido){\r\n                            console.log(\"Partido ya guardado\");\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    let _PartidosAnalizado = new Partido(_Partido, _Team1, _Team2);\r\n                    this._InfoPlayer._PartidosAnalizados.push(_PartidosAnalizado);\r\n                    //console.log(this._InfoPlayer._PartidosAnalizados);\r\n\r\n                    var _This = this;\r\n                    await db.ref(\"InfoPlayers/\" + _This._InfoPlayer.key)\r\n                    .update({ \r\n                        _PartidosAnalizados: _This._InfoPlayer._PartidosAnalizados\r\n                    })\r\n                    .then((r) => { \r\n                        //console.log(this);\r\n                        //console.log('Registro updated!') \r\n                    });\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            },\r\n            async ObtenerInfoPlayerFB(ProfileId){\r\n                var _Retorno = null;\r\n                try {\r\n                    await InfoPlayersFB.once('value', function(info) {\r\n                        info.forEach(function(Resultado) {\r\n                            if(Resultado.val()._ProfileId == ProfileId){\r\n                                _Retorno = Resultado.val();\r\n                                _Retorno.key = Resultado.key;\r\n                            }\r\n                        });\r\n                    });\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n                return _Retorno;\r\n            },\r\n        }\r\n    }\r\n    \r\n    class InfoPlayer{\r\n        constructor(_ProfileId, _Name){\r\n            this._ProfileId = _ProfileId;\r\n            this._Name = _Name;\r\n            this._IPsRegistradas = new Array();\r\n            this._PartidosAnalizados = [];\r\n            //this._Partidos.push(new Partido());\r\n        }\r\n    }\r\n    class Partido {\r\n        constructor(_Partido, _Team1, _Team2) {\r\n            //this._FechaJugado = new Fecha();\r\n            //this._FechaRegistrado = new Fecha();\r\n            this._Partido = _Partido;\r\n            this.Team1 = _Team1;\r\n            this.Team2 = _Team2;\r\n        }\r\n    };\r\n    class IpRegistrada{\r\n        constructor(){\r\n            this._IP = \"\";\r\n            this._FechaRegistro = new Fecha().ObtenerTexto();\r\n        }\r\n        async SetearIP(){\r\n            try {\r\n                var _This = this;\r\n                await fetch('https://api.ipify.org?format=json')\r\n                .then(r => r.json())\r\n                .then(json => {\r\n                    _This._IP = json.ip;\r\n                });\r\n\r\n                \r\n                // await fetch('http://ip-api.com/json')\r\n                // .then(r => r.json())\r\n                // .then(json => {\r\n                //     _This._InfoExtraIP = json;\r\n                // });\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n    };\r\n    class Fecha {\r\n        constructor(_Fecha) {\r\n        if (!_Fecha){\r\n            _Fecha = new Date();\r\n        }\r\n        this._Año = _Fecha.getFullYear();\r\n        this._Mes = _Fecha.getMonth() + 1;\r\n        this._Dia = _Fecha.getDate();\r\n        this._Horas = _Fecha.getHours();\r\n        this._Minutos = _Fecha.getMinutes();\r\n        this._Segundos = _Fecha.getSeconds();\r\n        this._FechaYHora = this.ObtenerTexto();\r\n        this._Fecha = this.ObtenerTexto1();\r\n        }\r\n        ObtenerTexto(){\r\n        var _Retorno = \"\";\r\n        try {\r\n            _Retorno += (\"0\" + this._Dia).slice(-2);\r\n            _Retorno += \"/\" + (\"0\" + this._Mes).slice(-2);\r\n            _Retorno += \"/\" + this._Año;\r\n            _Retorno += \" \" + (\"0\" + this._Horas).slice(-2);\r\n            _Retorno += \":\" + (\"0\" + this._Minutos).slice(-2);\r\n            _Retorno += \":\" + (\"0\" + this._Segundos).slice(-2);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        return _Retorno;\r\n        }\r\n        ObtenerTexto1(){\r\n        var _Retorno = \"\";\r\n        try {\r\n            _Retorno += (\"0\" + this._Dia).slice(-2);\r\n            _Retorno += \"/\" + (\"0\" + this._Mes).slice(-2);\r\n            _Retorno += \"/\" + this._Año;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        return _Retorno;\r\n        }\r\n        Paquete(){\r\n        return (this._Año + \"/\" + this._Mes + \"/\" + this._Dia + \"/\" + this._Horas + \"/\" + this._Minutos + \"/\" + this._Segundos);\r\n        }\r\n        SetearDesdePaquete(_Paquete){\r\n        var _Aux = _Paquete.split(\"/\");\r\n        if (_Aux.length != 6){\r\n            return;\r\n        }\r\n        this._Año = _Aux[0];\r\n        this._Mes = _Aux[1];\r\n        this._Dia = _Aux[2];\r\n        this._Horas = _Aux[3];\r\n        this._Minutos = _Aux[4];\r\n        this._Segundos = _Aux[5];\r\n    \r\n        this._FechaYHora = this.ObtenerTexto();\r\n        this._Fecha = this.ObtenerTexto1();\r\n        }\r\n        ObtenerFecha(){\r\n            var _Retorno = new Date(Date.UTC(this._Año, this._Mes - 1, this._Dia, this._Horas, this._Minutos, this._Segundos));\r\n            return _Retorno;\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    \r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logs.vue?vue&type=template&id=7b69db0f&scoped=true&\"\nimport script from \"./Logs.vue?vue&type=script&lang=js&\"\nexport * from \"./Logs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b69db0f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}